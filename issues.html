<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>실시간 이슈 보드 | lilhwang.com</title>
  <meta name="description" content="디시인사이드 HIT 갤러리와 Reddit 기술 커뮤니티의 인기 주제를 실시간 카드 UI로 확인하세요.">
  <meta name="robots" content="index, follow">
  <link rel="canonical" href="https://lilhwang.com/issues.html">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg: #eef4f8;
      --surface: #ffffff;
      --line: #d6e3ea;
      --text: #0f1720;
      --muted: #56707f;
      --brand: #0f6fbb;
      --brand-soft: #e4f1fb;
      --accent: #0f9d81;
      --accent-soft: #dcf8f1;
      --chip: #f4f8fb;
      --max: 1120px;
      --radius: 16px;
      --shadow: 0 14px 30px rgba(13, 38, 56, 0.08);
    }

    * { box-sizing: border-box; }

    body {
      margin: 0;
      color: var(--text);
      font-family: "Space Grotesk", "Apple SD Gothic Neo", "Noto Sans KR", sans-serif;
      background:
        radial-gradient(circle at 88% 8%, rgba(15, 111, 187, 0.15), transparent 40%),
        radial-gradient(circle at 8% 94%, rgba(15, 157, 129, 0.12), transparent 38%),
        var(--bg);
      line-height: 1.5;
    }

    a { color: inherit; }

    .wrap {
      max-width: var(--max);
      margin: 0 auto;
      padding: 22px 16px 72px;
    }

    .nav-shell {
      position: sticky;
      top: 10px;
      z-index: 40;
      margin-bottom: 14px;
      border: 1px solid var(--line);
      border-radius: var(--radius);
      background: rgba(255, 255, 255, 0.92);
      backdrop-filter: blur(10px);
      box-shadow: var(--shadow);
      padding: 10px;
    }

    .nav {
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
      align-items: center;
    }

    .nav a {
      text-decoration: none;
      border: 1px solid var(--line);
      background: #f8fbfd;
      border-radius: 999px;
      font-size: 0.88rem;
      font-weight: 600;
      padding: 7px 12px;
      transition: 0.2s ease;
    }

    .nav a:hover {
      border-color: #9bc4e4;
      color: #0b5e9e;
      background: var(--brand-soft);
    }

    .nav a.active {
      border-color: #87b7dd;
      color: #0b5e9e;
      background: var(--brand-soft);
    }

    .hero {
      border: 1px solid var(--line);
      border-radius: var(--radius);
      background: linear-gradient(135deg, #f7fcff 0%, #ffffff 100%);
      box-shadow: var(--shadow);
      padding: clamp(20px, 3vw, 30px);
      margin-bottom: 14px;
    }

    .hero h1 {
      margin: 0;
      font-size: clamp(1.7rem, 3.8vw, 2.6rem);
      letter-spacing: -0.02em;
    }

    .hero p {
      margin: 10px 0 0;
      color: var(--muted);
      max-width: 760px;
      font-size: 0.95rem;
    }

    .live-strip {
      margin-top: 14px;
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      align-items: center;
      font-size: 0.8rem;
      color: #21546d;
    }

    .chip {
      border: 1px solid var(--line);
      border-radius: 999px;
      background: var(--chip);
      padding: 5px 10px;
      display: inline-flex;
      align-items: center;
      gap: 6px;
    }

    .pulse {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: #0fb494;
      box-shadow: 0 0 0 rgba(15, 180, 148, 0.7);
      animation: pulse 1.6s infinite;
    }

    @keyframes pulse {
      0% { box-shadow: 0 0 0 0 rgba(15, 180, 148, 0.7); }
      70% { box-shadow: 0 0 0 8px rgba(15, 180, 148, 0); }
      100% { box-shadow: 0 0 0 0 rgba(15, 180, 148, 0); }
    }

    .board-grid {
      display: grid;
      grid-template-columns: 1fr;
      gap: 12px;
    }

    .board {
      border: 1px solid var(--line);
      border-radius: var(--radius);
      background: var(--surface);
      box-shadow: var(--shadow);
      padding: 14px;
    }

    .board-head {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 8px;
      flex-wrap: wrap;
      margin-bottom: 10px;
    }

    .board-title {
      margin: 0;
      font-size: 1.05rem;
      display: flex;
      align-items: center;
      gap: 7px;
    }

    .dot {
      width: 9px;
      height: 9px;
      border-radius: 50%;
      background: var(--brand);
    }

    .board-meta {
      color: var(--muted);
      font-size: 0.78rem;
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      align-items: center;
    }

    .fetch-log {
      color: #2d6078;
      font-size: 0.78rem;
      background: #f6fbff;
      border: 1px dashed #b8d0dc;
      border-radius: 10px;
      padding: 8px 10px;
      margin-bottom: 10px;
      overflow-x: auto;
      white-space: nowrap;
    }

    .cards {
      display: grid;
      grid-template-columns: 1fr;
      gap: 9px;
    }

    .topic-card {
      border: 1px solid var(--line);
      border-radius: 12px;
      padding: 12px;
      background: #fcfeff;
      display: grid;
      gap: 9px;
      transition: transform 0.18s ease, border-color 0.18s ease;
    }

    .topic-card:hover {
      transform: translateY(-1px);
      border-color: #9cc5df;
    }

    .topic-row {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      gap: 8px;
    }

    .rank {
      border: 1px solid #b6d2e7;
      border-radius: 999px;
      background: #edf7ff;
      color: #0b5e9e;
      font-size: 0.72rem;
      font-weight: 700;
      padding: 2px 8px;
      white-space: nowrap;
    }

    .topic-title {
      margin: 0;
      font-size: 0.98rem;
      line-height: 1.35;
      letter-spacing: -0.01em;
    }

    .topic-title a {
      text-decoration: none;
    }

    .topic-title a:hover {
      color: var(--brand);
    }

    .topic-sub {
      margin: 0;
      color: var(--muted);
      font-size: 0.82rem;
    }

    .stats {
      display: grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: 6px;
    }

    .stat {
      border: 1px solid #cce2dc;
      border-radius: 10px;
      background: #f3fcf9;
      padding: 7px 8px;
    }

    .stat dt {
      margin: 0;
      color: #2d6c5f;
      font-size: 0.71rem;
    }

    .stat dd {
      margin: 1px 0 0;
      color: #0b5143;
      font-size: 0.88rem;
      font-weight: 700;
      letter-spacing: -0.01em;
    }

    .loading,
    .error {
      border: 1px dashed #b8d0dc;
      border-radius: 12px;
      background: #f8fcff;
      padding: 16px;
      color: var(--muted);
      font-size: 0.88rem;
    }

    .error {
      border-color: #ddbcbc;
      background: #fff7f7;
      color: #9c4444;
    }

    @media (min-width: 960px) {
      .board-grid {
        grid-template-columns: repeat(2, minmax(0, 1fr));
      }
    }

    @media (max-width: 560px) {
      .nav-shell {
        top: 6px;
      }

      .stats {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>
  <main class="wrap">
    <header class="nav-shell">
      <nav class="nav" aria-label="주요 메뉴">
        <a href="index.html">홈</a>
        <a href="issues.html" class="active" aria-current="page">이슈</a>
        <a href="blog.html">블로그</a>
        <a href="developer-tools.html">도구</a>
      </nav>
    </header>

    <section class="hero">
      <h1>실시간 이슈 보드</h1>
      <p>디시인사이드 HIT 갤러리의 핫한 주제와 Reddit 기술 커뮤니티 인기 글을 카드 형태로 묶어 빠르게 확인할 수 있도록 구성했습니다.</p>
      <div class="live-strip">
        <span class="chip"><span class="pulse" aria-hidden="true"></span>실시간 시뮬레이션</span>
        <span class="chip" id="clockChip">업데이트 준비 중</span>
      </div>
    </section>

    <section class="board-grid" aria-live="polite">
      <article class="board" aria-labelledby="dcTitle">
        <div class="board-head">
          <h2 class="board-title" id="dcTitle"><span class="dot" aria-hidden="true"></span>디시인사이드 HIT 갤러리</h2>
          <div class="board-meta" id="dcMeta">소스 연결 중...</div>
        </div>
        <div class="fetch-log" id="dcFetchLog">web_fetch("https://gall.dcinside.com/board/lists?id=hit") 대기 중...</div>
        <div class="cards" id="dcCards">
          <div class="loading">디시 HIT 인기 주제를 로딩하고 있습니다...</div>
        </div>
      </article>

      <article class="board" aria-labelledby="redditTitle">
        <div class="board-head">
          <h2 class="board-title" id="redditTitle"><span class="dot" aria-hidden="true"></span>Reddit 기술 인기 글</h2>
          <div class="board-meta" id="redditMeta">소스 연결 중...</div>
        </div>
        <div class="fetch-log" id="redditFetchLog">web_fetch("https://www.reddit.com/r/programming+technology/hot.json") 대기 중...</div>
        <div class="cards" id="redditCards">
          <div class="loading">Reddit 기술 글을 로딩하고 있습니다...</div>
        </div>
      </article>
    </section>
  </main>

  <script>
    const state = {
      dcTopics: [],
      redditTopics: []
    };

    function escapeHtml(value) {
      return String(value || "")
        .replaceAll("&", "&amp;")
        .replaceAll("<", "&lt;")
        .replaceAll(">", "&gt;")
        .replaceAll('"', "&quot;")
        .replaceAll("'", "&#39;");
    }

    function formatNumber(value) {
      return new Intl.NumberFormat("ko-KR").format(Number(value) || 0);
    }

    function nowStamp() {
      return new Intl.DateTimeFormat("ko-KR", {
        month: "2-digit",
        day: "2-digit",
        hour: "2-digit",
        minute: "2-digit",
        second: "2-digit"
      }).format(new Date());
    }

    function tickClock() {
      const chip = document.getElementById("clockChip");
      chip.textContent = `마지막 갱신: ${nowStamp()}`;
    }

    async function mockWebFetchDcHit() {
      const mockData = [
        {
          rank: 1,
          title: "요즘 취업 시장에서 실무 포트폴리오가 중요한 이유",
          link: "https://gall.dcinside.com/board/view/?id=hit&no=301001",
          tag: "커리어",
          age: "7분 전",
          votes: 1880,
          views: 48290,
          comments: 734
        },
        {
          rank: 2,
          title: "AI 코딩 툴 도입한 팀 생산성 실제 체감 후기",
          link: "https://gall.dcinside.com/board/view/?id=hit&no=301002",
          tag: "개발",
          age: "11분 전",
          votes: 1512,
          views: 39040,
          comments: 502
        },
        {
          rank: 3,
          title: "원격근무 3년차가 말하는 집중 루틴 세팅 팁",
          link: "https://gall.dcinside.com/board/view/?id=hit&no=301003",
          tag: "업무",
          age: "16분 전",
          votes: 1194,
          views: 32330,
          comments: 441
        },
        {
          rank: 4,
          title: "개발자 컨퍼런스 핵심 세션 요약 정리",
          link: "https://gall.dcinside.com/board/view/?id=hit&no=301004",
          tag: "트렌드",
          age: "22분 전",
          votes: 982,
          views: 27140,
          comments: 308
        },
        {
          rank: 5,
          title: "신입이 실무 첫 주에 꼭 챙기면 좋은 체크리스트",
          link: "https://gall.dcinside.com/board/view/?id=hit&no=301005",
          tag: "가이드",
          age: "30분 전",
          votes: 844,
          views: 24510,
          comments: 279
        }
      ];

      return new Promise((resolve) => {
        setTimeout(() => {
          resolve({
            source: "https://gall.dcinside.com/board/lists?id=hit",
            fetchedAt: nowStamp(),
            items: mockData
          });
        }, 620);
      });
    }

    async function mockWebFetchRedditTech() {
      const mockData = [
        {
          rank: 1,
          title: "Rust 2.0 RFC Discussion: What Changes for Production Teams?",
          link: "https://www.reddit.com/r/programming/comments/tech001/",
          community: "r/programming",
          age: "9분 전",
          votes: 3620,
          views: 91500,
          comments: 689
        },
        {
          rank: 2,
          title: "Shipping AI Features Safely: Practical Guardrail Patterns",
          link: "https://www.reddit.com/r/technology/comments/tech002/",
          community: "r/technology",
          age: "13분 전",
          votes: 2890,
          views: 78120,
          comments: 544
        },
        {
          rank: 3,
          title: "Postgres at Scale: Lessons After 1 Billion Rows",
          link: "https://www.reddit.com/r/programming/comments/tech003/",
          community: "r/programming",
          age: "19분 전",
          votes: 2445,
          views: 66440,
          comments: 421
        },
        {
          rank: 4,
          title: "Frontend Performance Budget: Real Numbers, Real Tradeoffs",
          link: "https://www.reddit.com/r/webdev/comments/tech004/",
          community: "r/webdev",
          age: "24분 전",
          votes: 2034,
          views: 59360,
          comments: 337
        },
        {
          rank: 5,
          title: "Why Teams Are Moving from Monolith to Modular Monolith",
          link: "https://www.reddit.com/r/softwarearchitecture/comments/tech005/",
          community: "r/softwarearchitecture",
          age: "33분 전",
          votes: 1760,
          views: 52080,
          comments: 296
        }
      ];

      return new Promise((resolve) => {
        setTimeout(() => {
          resolve({
            source: "https://www.reddit.com/r/programming+technology/hot.json",
            fetchedAt: nowStamp(),
            items: mockData
          });
        }, 760);
      });
    }

    function renderCards(list, containerId, sourceLabel) {
      const container = document.getElementById(containerId);

      if (!Array.isArray(list) || !list.length) {
        container.innerHTML = `<div class="error">${sourceLabel} 데이터를 표시할 수 없습니다.</div>`;
        return;
      }

      container.innerHTML = list.map((topic) => `
        <article class="topic-card">
          <div class="topic-row">
            <span class="rank">TOP ${escapeHtml(topic.rank)}</span>
            <span class="topic-sub">${escapeHtml(topic.age)}</span>
          </div>
          <h3 class="topic-title"><a href="${escapeHtml(topic.link)}" target="_blank" rel="noopener noreferrer">${escapeHtml(topic.title)}</a></h3>
          <p class="topic-sub">${escapeHtml(topic.tag || topic.community || "일반")}</p>
          <dl class="stats">
            <div class="stat"><dt>추천수</dt><dd>${formatNumber(topic.votes)}</dd></div>
            <div class="stat"><dt>조회수</dt><dd>${formatNumber(topic.views)}</dd></div>
            <div class="stat"><dt>댓글수</dt><dd>${formatNumber(topic.comments)}</dd></div>
          </dl>
        </article>
      `).join("");
    }

    function simulateRealtimeBump(list) {
      return list.map((item) => ({
        ...item,
        votes: item.votes + Math.floor(Math.random() * 7),
        views: item.views + Math.floor(Math.random() * 33),
        comments: item.comments + Math.floor(Math.random() * 3)
      }));
    }

    function startRealtimeLoop() {
      setInterval(() => {
        tickClock();
        state.dcTopics = simulateRealtimeBump(state.dcTopics);
        state.redditTopics = simulateRealtimeBump(state.redditTopics);
        renderCards(state.dcTopics, "dcCards", "디시 HIT");
        renderCards(state.redditTopics, "redditCards", "Reddit");
      }, 7000);
    }

    async function init() {
      tickClock();
      setInterval(tickClock, 1000);

      try {
        const [dc, reddit] = await Promise.all([
          mockWebFetchDcHit(),
          mockWebFetchRedditTech()
        ]);

        state.dcTopics = dc.items;
        state.redditTopics = reddit.items;

        document.getElementById("dcMeta").textContent = `HIT 상위 ${dc.items.length}개 · ${dc.fetchedAt}`;
        document.getElementById("redditMeta").textContent = `기술 글 ${reddit.items.length}개 · ${reddit.fetchedAt}`;

        document.getElementById("dcFetchLog").textContent = `web_fetch("${dc.source}") -> 200 OK (${dc.fetchedAt})`;
        document.getElementById("redditFetchLog").textContent = `web_fetch("${reddit.source}") -> 200 OK (${reddit.fetchedAt})`;

        renderCards(state.dcTopics, "dcCards", "디시 HIT");
        renderCards(state.redditTopics, "redditCards", "Reddit");

        startRealtimeLoop();
      } catch (error) {
        document.getElementById("dcCards").innerHTML = '<div class="error">디시 데이터를 불러오는 중 오류가 발생했습니다.</div>';
        document.getElementById("redditCards").innerHTML = '<div class="error">Reddit 데이터를 불러오는 중 오류가 발생했습니다.</div>';
      }
    }

    init();
  </script>
</body>
</html>
