<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>CatCat Builder - 개발자 포털</title>
  <meta
    name="description"
    content="CatCat Builder 개발자 포털: 기술 블로그, 개발 도구, 커뮤니티 소식과 최신 글을 한곳에서 확인하세요."
  />
  <style>
    :root {
      color-scheme: light;
      --bg: #f3f6ff;
      --surface: #ffffff;
      --surface-2: #eef3ff;
      --text: #151a2c;
      --muted: #51607d;
      --brand: #1f6feb;
      --brand-2: #08a7a4;
      --border: #d6def2;
      --shadow: 0 10px 30px rgba(19, 28, 63, 0.08);
      --hero-grad: radial-gradient(circle at 15% 10%, #dce9ff 0%, transparent 40%),
        radial-gradient(circle at 90% 20%, #cff5f1 0%, transparent 36%),
        linear-gradient(135deg, #f7f9ff 0%, #eff5ff 100%);
    }

    [data-theme="dark"] {
      color-scheme: dark;
      --bg: #0d1323;
      --surface: #121b31;
      --surface-2: #19243f;
      --text: #ebefff;
      --muted: #a8b5d7;
      --brand: #5aa6ff;
      --brand-2: #20c8b9;
      --border: #2c3b64;
      --shadow: 0 14px 36px rgba(0, 0, 0, 0.28);
      --hero-grad: radial-gradient(circle at 8% 12%, rgba(61, 116, 201, 0.28) 0%, transparent 40%),
        radial-gradient(circle at 85% 18%, rgba(32, 200, 185, 0.2) 0%, transparent 38%),
        linear-gradient(145deg, #0f1830 0%, #111b33 100%);
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      font-family: "Pretendard", "Noto Sans KR", "Apple SD Gothic Neo", sans-serif;
      background: var(--bg);
      color: var(--text);
      line-height: 1.6;
    }

    .wrap {
      width: min(1120px, calc(100% - 2rem));
      margin: 0 auto;
    }

    header {
      position: sticky;
      top: 0;
      z-index: 20;
      backdrop-filter: blur(8px);
      background: color-mix(in oklab, var(--bg) 86%, transparent);
      border-bottom: 1px solid color-mix(in oklab, var(--border) 80%, transparent);
    }

    .nav {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0.95rem 0;
      gap: 0.8rem;
    }

    .brand {
      font-weight: 800;
      letter-spacing: -0.02em;
      text-decoration: none;
      color: var(--text);
      font-size: 1.1rem;
    }

    .theme-btn {
      border: 1px solid var(--border);
      background: var(--surface);
      color: var(--text);
      border-radius: 999px;
      padding: 0.45rem 0.8rem;
      font-weight: 600;
      cursor: pointer;
    }

    main {
      padding: 1.6rem 0 3.2rem;
      display: grid;
      gap: 1.6rem;
    }

    section {
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 20px;
      box-shadow: var(--shadow);
      overflow: hidden;
    }

    .hero {
      padding: 2.8rem;
      background: var(--hero-grad);
      border: 1px solid var(--border);
    }

    .hero h1 {
      margin: 0;
      font-size: clamp(1.9rem, 4vw, 3.1rem);
      letter-spacing: -0.03em;
      line-height: 1.15;
    }

    .hero p {
      margin: 1rem 0 0;
      max-width: 66ch;
      color: var(--muted);
      font-size: 1.04rem;
    }

    .section-head {
      padding: 1.2rem 1.4rem 0;
    }

    .section-head h2 {
      margin: 0;
      font-size: 1.25rem;
      letter-spacing: -0.02em;
    }

    .cards {
      display: grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: 1rem;
      padding: 1.2rem 1.4rem 1.5rem;
    }

    .card {
      border: 1px solid var(--border);
      background: var(--surface-2);
      border-radius: 14px;
      padding: 1rem;
    }

    .card h3 {
      margin: 0;
      font-size: 1.03rem;
    }

    .card p {
      margin: 0.45rem 0 0;
      color: var(--muted);
      font-size: 0.95rem;
    }

    .posts-wrap {
      padding: 1.1rem 1.4rem 1.5rem;
      display: grid;
      gap: 0.9rem;
    }

    .post-item {
      border: 1px solid var(--border);
      border-radius: 12px;
      background: var(--surface-2);
      padding: 0.95rem 1rem;
    }

    .post-meta {
      margin: 0;
      font-size: 0.83rem;
      color: var(--muted);
    }

    .post-item h3 {
      margin: 0.35rem 0 0;
      font-size: 1.03rem;
      line-height: 1.35;
    }

    .post-item p {
      margin: 0.45rem 0 0;
      color: var(--muted);
      font-size: 0.93rem;
    }

    .loading,
    .error {
      margin: 0;
      color: var(--muted);
      font-size: 0.95rem;
      padding: 0.6rem 0;
    }

    .error {
      color: #d1495b;
    }

    .newsletter {
      padding: 1.2rem 1.4rem 1.5rem;
    }

    .newsletter p {
      margin: 0.45rem 0 1rem;
      color: var(--muted);
    }

    form {
      display: grid;
      grid-template-columns: 1fr auto;
      gap: 0.7rem;
    }

    input[type="email"] {
      border: 1px solid var(--border);
      border-radius: 11px;
      background: var(--surface-2);
      color: var(--text);
      padding: 0.75rem 0.9rem;
      font-size: 0.95rem;
      outline: none;
    }

    input[type="email"]:focus {
      border-color: var(--brand);
    }

    button[type="submit"] {
      border: 0;
      border-radius: 11px;
      background: linear-gradient(120deg, var(--brand), var(--brand-2));
      color: #fff;
      font-weight: 700;
      padding: 0.75rem 1rem;
      cursor: pointer;
    }

    .subscribe-msg {
      margin: 0.75rem 0 0;
      font-size: 0.9rem;
      color: var(--muted);
      min-height: 1.2em;
    }

    footer {
      color: var(--muted);
      font-size: 0.86rem;
      padding: 0.5rem 0 2.5rem;
      text-align: center;
    }

    @media (max-width: 860px) {
      .cards {
        grid-template-columns: 1fr;
      }

      .hero {
        padding: 2rem 1.3rem;
      }

      form {
        grid-template-columns: 1fr;
      }

      button[type="submit"] {
        justify-self: start;
      }
    }
  </style>
</head>
<body>
  <header>
    <div class="wrap nav">
      <a class="brand" href="index.html">CatCat Builder</a>
      <button class="theme-btn" id="theme-toggle" type="button" aria-label="다크모드 전환">다크모드</button>
    </div>
  </header>

  <main class="wrap">
    <section class="hero" aria-labelledby="hero-title">
      <h1 id="hero-title">CatCat Builder - 개발자 포털</h1>
      <p>개발 문서, 실전 도구, 커뮤니티 인사이트를 하나의 허브에서 연결해 더 빠르게 빌드하고 더 안정적으로 배포하세요.</p>
    </section>

    <section aria-labelledby="services-title">
      <div class="section-head">
        <h2 id="services-title">서비스</h2>
      </div>
      <div class="cards">
        <article class="card">
          <h3>기술 블로그</h3>
          <p>최신 기술 트렌드와 실무 회고를 읽고 아키텍처와 개발 습관을 개선합니다.</p>
        </article>
        <article class="card">
          <h3>개발 도구</h3>
          <p>일상 개발에 바로 쓰는 유틸리티와 자동화 도구를 한 곳에서 빠르게 실행합니다.</p>
        </article>
        <article class="card">
          <h3>커뮤니티</h3>
          <p>토론, Q&A, 추천 아티클을 통해 팀 밖의 인사이트와 문제 해결 패턴을 공유합니다.</p>
        </article>
      </div>
    </section>

    <section aria-labelledby="latest-posts-title">
      <div class="section-head">
        <h2 id="latest-posts-title">최신 글 3개</h2>
      </div>
      <div class="posts-wrap" id="posts-container">
        <p class="loading">최신 글을 불러오는 중입니다...</p>
      </div>
    </section>

    <section aria-labelledby="newsletter-title">
      <div class="newsletter">
        <h2 id="newsletter-title">뉴스레터 구독</h2>
        <p>주요 업데이트와 새 글 소식을 메일로 받아보세요.</p>
        <form id="newsletter-form">
          <label for="email" class="sr-only" style="position:absolute;left:-9999px;">이메일 주소</label>
          <input id="email" name="email" type="email" placeholder="you@example.com" required />
          <button type="submit">구독하기</button>
        </form>
        <p id="subscribe-message" class="subscribe-msg" aria-live="polite"></p>
      </div>
    </section>
  </main>

  <footer>
    © 2026 CatCat Builder. All rights reserved.
  </footer>

  <script>
    (function () {
      var root = document.documentElement;
      var button = document.getElementById('theme-toggle');
      var savedTheme = localStorage.getItem('catcat-theme');
      var initialTheme = savedTheme || 'light';

      root.setAttribute('data-theme', initialTheme);
      button.textContent = initialTheme === 'dark' ? '라이트모드' : '다크모드';

      button.addEventListener('click', function () {
        var current = root.getAttribute('data-theme') === 'dark' ? 'dark' : 'light';
        var next = current === 'dark' ? 'light' : 'dark';
        root.setAttribute('data-theme', next);
        localStorage.setItem('catcat-theme', next);
        button.textContent = next === 'dark' ? '라이트모드' : '다크모드';
      });
    })();

    (function () {
      var container = document.getElementById('posts-container');

      function formatDate(dateString) {
        var date = new Date(dateString);
        if (Number.isNaN(date.getTime())) {
          return dateString || '날짜 미상';
        }
        return new Intl.DateTimeFormat('ko-KR', {
          year: 'numeric',
          month: '2-digit',
          day: '2-digit'
        }).format(date);
      }

      function toList(data) {
        if (Array.isArray(data)) return data;
        if (data && Array.isArray(data.posts)) return data.posts;
        return [];
      }

      fetch('posts.json')
        .then(function (res) {
          if (!res.ok) {
            throw new Error('posts.json 로드 실패 (' + res.status + ')');
          }
          return res.json();
        })
        .then(function (data) {
          var posts = toList(data)
            .slice()
            .sort(function (a, b) {
              var da = new Date(a.date || 0).getTime() || 0;
              var db = new Date(b.date || 0).getTime() || 0;
              if (db !== da) return db - da;
              return (b.id || 0) - (a.id || 0);
            })
            .slice(0, 3);

          if (!posts.length) {
            container.innerHTML = '<p class="loading">표시할 최신 글이 없습니다.</p>';
            return;
          }

          container.innerHTML = posts
            .map(function (post) {
              var title = post.title || '제목 없음';
              var excerpt = post.excerpt || '요약 정보가 없습니다.';
              var date = formatDate(post.date);
              var category = post.category || 'general';

              return [
                '<article class="post-item">',
                '<p class="post-meta">' + category + ' · ' + date + '</p>',
                '<h3>' + escapeHtml(title) + '</h3>',
                '<p>' + escapeHtml(excerpt) + '</p>',
                '</article>'
              ].join('');
            })
            .join('');
        })
        .catch(function (err) {
          container.innerHTML = '<p class="error">최신 글을 불러오지 못했습니다. ' + escapeHtml(err.message) + '</p>';
        });

      function escapeHtml(text) {
        return String(text)
          .replace(/&/g, '&amp;')
          .replace(/</g, '&lt;')
          .replace(/>/g, '&gt;')
          .replace(/"/g, '&quot;')
          .replace(/'/g, '&#39;');
      }
    })();

    (function () {
      var form = document.getElementById('newsletter-form');
      var message = document.getElementById('subscribe-message');

      form.addEventListener('submit', function (event) {
        event.preventDefault();
        var email = form.email.value.trim();
        if (!email) {
          message.textContent = '이메일 주소를 입력해 주세요.';
          return;
        }
        message.textContent = '구독 신청이 완료되었습니다: ' + email;
        form.reset();
      });
    })();
  </script>
</body>
</html>
